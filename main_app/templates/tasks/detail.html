{% extends 'base.html' %}

{% block content %}
<h1>Task Details</h1>

<a href="{% url 'tasks_delete' project.id %}">
  <button type="button">Delete Task</button>
</a>
<a href="{% url 'tasks_update' project.id %}">
  <button type="button">Update Task</button>
</a>

<hr>

<h4>{{ task.title }}</h4>
<p>{{ task.description}}</p>
<p>{{ task.status}}</p>
<p>{{ task.created}}</p>
<hr>
<h5>Tasks</h5>
<table class="striped">
  <thead>
    <tr>
      <th>Priority</th>
      <th>Title</th>
      <th>Description</th>
      <th>Status</th>
      <th>Owner</th>
      <th>Due Date</th>
    </tr>
  </thead>
  <tbody>
    {% for task in tasks %}
    <tr>
        <th>{{task.priority}}</th>
        <th>{{task.title}}</th>
        <th>{{task.description}}</th>
        <th>{{task.status}}</th>
        <th>{{task.owner}}</th>
        <th>{{task.due_date}}</th>
        
    </tr>
    {% endfor %}
</tbody>
</table>
<script>
  // document.addEventListener('DOMContentLoaded' , function() {
  //   var elms = document.querySelectorAll('.datepicker');
  //   var instances = M.Datepicker.init(elems, {
  //     format: 'yyyy-mm-dd',
  //     defaultDate: newDate(),
  //     setDefaultDate: true,
  //     autoClose:true
  //   });
  // });
  const dateEl = document.getElementById('id_date');
  // M is Materialize's global variable
  M.Datepicker.init(dateEl, {
      format: 'yyyy-mm-dd',
      defaultDate: new Date(),
      setDefaultDate: true,
      autoClose: true
  });

  const selectEl = document.getElementById('id_task');
  M.FormSelect.init(selectEl)
</script>