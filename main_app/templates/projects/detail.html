{% extends 'base.html' %}

{% block content %}
<h1>Project Details</h1>

<a href="{% url 'projects_delete' project.id %}">
  <button type="button">Delete Project</button>
</a>
<a href="{% url 'projects_update' project.id %}">
  <button type="button">Update Project</button>

</a>
<a href="{% url 'tasks_create' %}">
  <button type="button">Create Task</button>
</a>

<hr>

<h4>{{ project.title }}</h4>
<p>{{ project.description}}</p>
<hr>
<h5>Tasks</h5>
<table class="striped">
  <thead>
    <tr>
      <th>Priority</th>
      <th>Title</th>
      <th>Description</th>
      <th>Status</th>
      <th>Owner</th>
      <th>Due Date</th>
    </tr>
  </thead>
  <tbody>
    {% for task in tasks %}
    <tr>
        <th>{{task.priority}}</th>
        <th>
          <a href="{% url 'tasks_detail' task.id %}">{{task.title}}</a>
      

        </th>
        
        <th>{{task.description}}</th>
        <th>{{task.status}}</th>
        <th>{{task.owner}}</th>
        <th>{{task.due_date}}</th>
        
    </tr>
    {% endfor %}
</tbody>
</table>
<script>
  // const dateEl = document.getElementById('id_date');
  // // M is Materialize's global variable
  // M.Datepicker.init(dateEl, {
  //     format: 'yyyy-mm-dd',
  //     defaultDate: new Date(),
  //     setDefaultDate: true,
  //     autoClose: true
  // });

  // const selectEl = document.getElementById('id_project');
  // M.FormSelect.init(selectEl)

    document.addEventListener('DOMContentLoaded', function() {
        var elems = document.querySelectorAll('.datepicker');
        var instances = M.Datepicker.init(elems, { format: 'yyyy-mm-dd' });
    });
</script>

{% endblock %}